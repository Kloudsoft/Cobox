<!DOCTYPE html>
<html lang="en">
<head>
	<title>Test</title>

	<link href="Styles/Common.css" rel="stylesheet" />

	<script src="Scripts/jquery-2.2.1.js"></script>
	<script src="Scripts/respond.js"></script>
	<script src="Scripts/modernizr-2.8.3.js"></script>
	<script src="Scripts/bootstrap.js"></script>

	<script src="TypeScript/HouseOfSynergy.js"></script>

	<script src="Scripts/SJCL/sjcl-version-0.8/core/sjcl.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/convenience.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/bitArray.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/codecBytes.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/codecString.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/codecBase64.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/codecHex.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/ccm.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/ocb2.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/aes.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/sha256.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/random.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/hmac.js"></script>
	<script src="Scripts/SJCL/sjcl-version-0.8/core/pbkdf2.js"></script>

	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/TimelineMax.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/TweenMax.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/utils/Draggable.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/utils/SplitText.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/ThrowPropsPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/AttrPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/BezierPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/ColorPropsPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/CSSPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/CSSRulePlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/DirectionalRotationPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/DrawSVGPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/EaselPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/EndArrayPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/KineticPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/MorphSVGPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/Physics2DPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/PhysicsPropsPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/RaphaelPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/RoundPropsPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/ScrambleTextPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/ScrollToPlugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/TEMPLATE_Plugin.js"></script>
	<script src="Scripts/GreenSock/GreenSock Business 1.18.2/src/uncompressed/plugins/TextPlugin.js"></script>

	<!--[if lt IE 9]><script type="text/javascript" src="../../Scripts/Explorer Canvas/excanvas.js"></script><![endif]-->
	<script src="../../Scripts/Tag Canvas/Tag Canvas/Standalone/tagcanvas.js" type="text/javascript"></script>

	<style type="text/css">
		#DivCanvasMain
		{
			position: absolute;
			left: 10px;
			top: 10px;
			right: 10px;
			bottom: 10px;
			z-index: 1;
			display: none;
		}
		#CanvasMain
		{
			position: absolute;
			top: 0px;
			left: 0px;
			width: 100%;
			height: 100%;
			border: 1px solid orange;
			background-color: #1A222C;
			z-index: 1;
			display: none;
		}
	</style>

</head>
<body>
	<div>
		<h1 id="H1">Hello, world!</h1>

		<form id="FormMain">

			<div id="DivMain">

				<div id="DivLibrary"></div>

				<br /><br /><br />

				<div>
					<textarea id="TextAreaTenant" style="width: 300px; height: 100px;">Tenant (HoS)</textarea>
					<br />
					<textarea id="TextAreaTenants" style="width: 300px; height: 100px;">Tenants (All)</textarea>
				</div>

			</div>

		</form>

	</div>

	<div id="DivCanvasMain">
		<canvas id="CanvasMain" width="1920" height="1080"></canvas>
	</div>

	<script type="text/javascript">

		var MX = -1;
		var MY = -1;
		var Particles = [];
		var DistanceXY = 20;
		var CountParticles = 50;
		var DistanceMultiplier = 5;

		function DrawCanvas(canvas, context)
		{
			if (Particles.length == 0)
			{
				for (var i = 0; i < CountParticles; i++)
				{
					Particles.push({ X: 0, Y: 0, XD: 1, YD: 1, XV: 1, YV: 1, });

					var point = Particles[i];

					point.X = Math.floor((Math.random() * (canvas.width - 0)) + 0);
					point.Y = Math.floor((Math.random() * (canvas.height - 0)) + 0);

					point.XD = (Math.random() < 0.5 ? -1 : 1);
					point.YD = (Math.random() < 0.5 ? -1 : 1);

					point.XV = Math.random();
					point.YV = Math.random();
				}
			}

			canvas.lineWidth = 1;
			context.strokeStyle = "white";
			context.clearRect(0, 0, canvas.width, canvas.height);

			for (var i = 0; i < Particles.length; i++)
			{
				var point = Particles[i];

				point.X += (point.XV * point.XD);
				point.Y += (point.YV * point.YD);

				if ((point.X < 0) && (point.XD < 0)) { point.XD = 1; }
				if ((point.Y < 0) && (point.YD < 0)) { point.YD = 1; }
				if ((point.X > canvas.width) && (point.XD > 0)) { point.XD = -1; }
				if ((point.Y > canvas.height) && (point.YD > 0)) { point.YD = -1; }

				context.globalAlpha = 1;
				context.fillStyle = "white";
				context.fillRect(point.X, point.Y, 1, 1);
			}

			for (var i = 0; i < Particles.length; i++)
			{
				var point1 = Particles[i];

				for (var j = 0; j < Particles.length; j++)
				{
					if (i != j)
					{
						var point2 = Particles[j];

						var distance = Math.sqrt(Math.pow(point2.X - point1.X, 2) + Math.pow(point2.Y - point1.Y, 2));

						if (distance < (DistanceXY * DistanceMultiplier))
						{
							var opacity = ((((DistanceXY - distance) / DistanceXY) + 1) / 2);

							context.beginPath();
							//context.fillStyle = "white";
							//context.globalAlpha = opacity;
							//context.fillStyle = "rbga(255,255,255," + opacity.toString() + ")";
							context.strokeStyle = "rbga(255,255,255," + opacity.toString() + ")";
							context.moveTo(Math.min(point1.X, point2.X), Math.min(point1.Y, point2.Y));
							context.lineTo(Math.max(point1.X, point2.X), Math.max(point1.Y, point2.Y));
							context.closePath();
							context.stroke();
						}
					}
				}

				var x = MX;
				var y = MY;

				if ((x >= 0) && (y >= 0))
				{
					x = x * (canvas.width / canvas.clientWidth);
					y = y * (canvas.height / canvas.clientHeight);

					var distance = Math.sqrt(Math.pow(x - point1.X, 2) + Math.pow(y - point1.Y, 2));

					if (distance < (DistanceXY * DistanceMultiplier))
					{
						var opacity = ((((DistanceXY - distance) / DistanceXY) + 1) / 2);

						context.beginPath();
						//context.fillStyle = "white";
						//context.globalAlpha = opacity;
						//context.fillStyle = "rbga(255,255,255," + opacity.toString() + ")";
						context.strokeStyle = "rbga(255,255,255," + opacity.toString() + ")";

						context.moveTo(x, y);
						context.lineTo(point1.X, point1.Y);
						context.closePath();
						context.stroke();
					}
				}
			}

			window.setTimeout(function () { DrawCanvas(window.CanvasMain, window.CanvasMain.getContext("2d")); }, 50);
		}

		$(document).ready
		(
			function ()
			{
				var result = null;

				document.getElementById("DivLibrary").innerHTML
					= HouseOfSynergy.Library.Info.Name
					+ "<br />Version: "
					+ HouseOfSynergy.Library.Info.Version.toString()
					+ "<br />Date: "
					+ HouseOfSynergy.Library.Info.Date.toString()
					+ "<br />Company: "
					+ HouseOfSynergy.Library.Info.Company.Name
					+ "<br />Email: <a href=\"mailto:"
					+ HouseOfSynergy.Library.Info.Company.Email
					+ "\">"
					+ HouseOfSynergy.Library.Info.Company.Email
					+ "</a><br />Website: <a href=\""
					+ HouseOfSynergy.Library.Info.Company.Website
					+ "\" target=\"_blank\">"
					+ HouseOfSynergy.Library.Info.Company.Website
					+ "</a>";

				window.CanvasMain.addEventListener
				(
					'mousemove',
					function (e)
					{
						var rect = window.CanvasMain.getBoundingClientRect();

						MX = e.pageX - rect.left;
						MY = e.pageY - rect.top;
					},
					false
				);

				window.CanvasMain.width = 1920;
				window.CanvasMain.height = 1080;
				window.CanvasMain.addEventListener("mouseout", function (e) { MX = -1; MY = -1; });
				//DrawCanvas(window.CanvasMain, window.CanvasMain.getContext("2d"));

				//var algo = window.sjcl.hash.sha256("kijk");
				//algo.update("sdsdfdsf");
				//alert(algo.finalize());

				//alert(atob("cmFoZWVsLmtoYW5AaG91c2VvZnN5bmVyZ3kub25taWNyb3NvZnQuY29t"));

				result = $.ajax
				(
					{
						url: "/Api/MasterApiTenant",
						data: { domain: "houseofsynergy.com", },
						success: function (data)
						{
							document.getElementById("TextAreaTenant").textContent = data.CompanyName.toString() + "\n";
						},
					}
				)
				.done(function (data) { document.getElementById("TextAreaTenant").textContent += ("\nDone."); })
				.fail(function (err) { document.getElementById("TextAreaTenant").textContent += "\nError: " + err.statusText.toString(); })
				.always(function () { document.getElementById("TextAreaTenant").textContent += "\nAlways."; })

				result = $.ajax
				(
					{
						url: "/Api/MasterApiTenants",
						data: { },
						success: function (data)
						{
							var textArea = document.getElementById("TextAreaTenants");

							textArea.textContent = "";

							for (var i = 0; i < data.length; i++)
							{
								textArea.textContent += data[i].CompanyName.toString() + "\n";
							}
						},
					}
				)
				.done(function (data) { document.getElementById("TextAreaTenants").textContent += ("\nDone."); })
				.fail(function (err) { document.getElementById("TextAreaTenants").textContent += "\nError: " + err; })
				.always(function () { document.getElementById("TextAreaTenants").textContent += "\nAlways."; });
			}
		);
	</script>

</body>
</html>