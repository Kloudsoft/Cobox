@model HouseOfSynergy.AffinityDms.Entities.Tenants.DiscoursePostVersion
@if (this.Model != null)
{
    var AttachmentsId = "PostAttachments" + this.Model.PostId;
    var PostComment = "PostComment" + this.Model.PostId;
    <div class="col-md-1" style="margin-top:25px;">@*<span class="num-bg">3</span>*@</div>
    <div class="col-md-11">
        <div class="post-display">
            <p id="@PostComment">
                @Html.Raw(this.Model.Comments)
            </p><br />
            <div id="@AttachmentsId">
                @if (this.Model.Attachments != null)
                {
                    foreach (var attachment in this.Model.Attachments)
                    {
                        var attachmentStr = HouseOfSynergy.AffinityDms.WebRole.Classes.CustomHelpers.CustomHtmlHelpers.GetAttachmentsString(attachment);
                        <span>@Html.Raw(attachmentStr)</span>
                    }
                }
            </div>
            <div class="clearfix"></div>
            <br />
            <span class="pull-left">
                <img src="../../Images/Themes/time.png" width="15" height="15">@this.Model.DateTime - Posted By: @this.Model.Post.User.NameFull
            </span>
            @if (this.ViewBag.CurrentUser != null)
            {
                if (this.ViewBag.CurrentUser == this.Model.Post.UserId)
                {
                    <span class="pull-right"><a onclick="javascript: discourses.EditComment(event)" data-id="@this.Model.PostId" data-type="Comment">Edit </a></span>
                }
            }
            @if (this.ViewBag.EnableHistory != null)
            {
                if (this.ViewBag.EnableHistory)
                {
                    <span class="pull-right"><a href="#" data-type="ViewCommentHistory" data-id="@this.Model.PostId"  onclick="javascript: discourses.ShowDynamicModal(event)">History </a></span>
                }
            }
            <div class="clearfix"></div>
        </div>
        <hr size="1">
    </div>
}

